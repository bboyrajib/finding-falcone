(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},25:function(e,t,n){e.exports=n(38)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(22),l=n.n(i),c=(n(30),n(3)),r=n(4),o=n(6),m=n(5),u=n(7),h=(n(31),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"jumbotron"},s.a.createElement("h1",{className:"greenText text-center"},"Finding Falcone"),s.a.createElement("div",{className:"text-center"},s.a.createElement("span",{className:"navbar-brand whiteText"},"a coding challenge by ",s.a.createElement("code",null,s.a.createElement("a",{target:"_blank",className:"pinkText",rel:"noopener noreferrer",href:"https://www.geektrust.in"},"www.geektrust.in")))))}}]),t}(a.Component)),d=(n(32),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{className:"navbar-fixed-bottom footer-bg"},s.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 GeekTrust 2019 \xa0",s.a.createElement("a",{target:"_blank",className:"text-white",rel:"noopener noreferrer",href:"https://www.geektrust.in/coding-problem/frontend/space"}," Finding Falcone")))}}]),t}(a.Component)),p=n(14),f=(n(20),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Planet ",this.props.id),s.a.createElement("select",{onChange:this.props.onChange,className:"m-3",name:this.props.name,value:this.props.destinationProps.destination},s.a.createElement("option",null,this.props.destinationProps.destination),this.props.planets.map(function(e){return s.a.createElement("option",{key:e.name},e.name)})),s.a.createElement("br",null))}}]),t}(a.Component)),v=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"vehicles text-left"},this.props.destinationProps.eligibleVehicles.map(function(t){return s.a.createElement("span",null,s.a.createElement("input",{onChange:e.props.onChange,key:e.props.destinationProps.name,type:"radio",name:e.props.destinationProps.name,value:t.name}),s.a.createElement("label",{className:"m-2"},t.name," (",t.total_no,")"),s.a.createElement("br",null))}))}}]),t}(a.Component),b=n(11),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={planets:[],destinations:[{id:"One",name:"planetOne",destination:"----",vehicle:"",timeTaken:"",isSelected:!1,eligibleVehicles:[]},{id:"Two",name:"planetTwo",destination:"----",vehicle:"",timeTaken:"",isSelected:!1,eligibleVehicles:[]},{id:"Three",name:"planetThree",destination:"----",vehicle:"",timeTaken:"",isSelected:!1,eligibleVehicles:[]},{id:"Four",name:"planetFour",destination:"----",vehicle:"",timeTaken:"",isSelected:!1,eligibleVehicles:[]}],vehicles:[],disabled:!0},n.originalPlanetList=[],n.callPlanetsAPI=function(){fetch("https://findfalcone.herokuapp.com/planets").then(function(e){return e.json()}).then(function(e){n.setState({planets:e}),n.originalPlanetList.push(e)})},n.callVehiclesAPI=function(){fetch("https://findfalcone.herokuapp.com/vehicles").then(function(e){return e.json()}).then(function(e){n.setState({vehicles:e})})},n.handleChange=function(e){var t=n.state.destinations.filter(function(t){return e.target.name===t.name});if(!1===t[0].isSelected){var a=n.state.planets.filter(function(t){return t.name!==e.target.value});n.setState({planets:a})}else{var s=t[0],i=n.originalPlanetList[0].filter(function(e){return e.name===s.destination}),l=Object(p.a)(n.state.planets);l.push(i[0]);var c=l.filter(function(t){return t.name!==e.target.value});n.setState({planets:c})}var r=Object(p.a)(n.state.destinations);r.map(function(t){return t.name===e.target.name&&(t.isSelected=!0,t.destination=e.target.value),""}),n.setState({destinations:r});var o=n.state.planets.filter(function(t){return t.name===e.target.value});n.handleVehicles(o,e)},n.handleVehicles=function(e,t){var a=n.state.vehicles.filter(function(t){return t.max_distance>=e[0].distance}),s=Object(p.a)(n.state.destinations);s.map(function(e){return e.name===t.target.name&&(e.eligibleVehicles=a),""}),n.setState({destinations:s})},n.handleReset=function(){n.setState({planets:[],destinations:[{id:"One",name:"planetOne",destination:"----",vehicle:"",timeTaken:"",isSelected:!1},{id:"Two",name:"planetTwo",destination:"----",vehicle:"",timeTaken:"",isSelected:!1},{id:"Three",name:"planetThree",destination:"----",vehicle:"",timeTaken:"",isSelected:!1},{id:"Four",name:"planetFour",destination:"----",vehicle:"",timeTaken:"",isSelected:!1}],vehicles:[]}),n.callPlanetsAPI(),n.callVehiclesAPI()},n.handleVehicleChange=function(e){var t=Object(p.a)(n.state.destinations);t.map(function(t){return t.name===e.target.name&&(t.vehicle=e.target.value),""}),n.setState({destinations:t}),n.changeButtonState()},n.changeButtonState=function(){var e=n.state.destinations.every(function(e){return e.vehicle.length>0});n.setState({disabled:!e})},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.callPlanetsAPI(),this.callVehiclesAPI()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{id:"reset",className:"btn btn-danger float-right",onClick:this.handleReset,type:"submit"},"Reset"),s.a.createElement("div",{className:"container h-100 d-flex flex-column"},s.a.createElement("h1",{className:"text-center p-5"},"Select the planets you want to send vehicles to:"),s.a.createElement("div",{id:"main"},s.a.createElement("div",{className:"row text-center"},this.state.destinations.map(function(t){return s.a.createElement("div",{className:"col"},s.a.createElement(f,{planets:e.state.planets,onChange:e.handleChange,destinationProps:t,name:t.name,key:t.id,id:t.id}),t.isSelected?s.a.createElement(v,{onChange:e.handleVehicleChange,destinationProps:t}):null)}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement(b.b,{to:{pathname:"/success",state:this.state.destinations,fromGame:!0}},s.a.createElement("button",{disabled:this.state.disabled,className:"btn btn-success"},"Find Falcone!"))))))}}]),t}(a.Component),E=(n(37),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).planetNames=[],n.vehicleNames=[],n.state={successMessage:"",planet:""},n.getTokenAPI=function(){fetch("https://findfalcone.herokuapp.com/token",{method:"POST",headers:{Accept:"application/json"},body:{}}).then(function(e){return e.json()}).then(function(e){n.findFalconeAPI(e.token,n.planetNames,n.vehicleNames)})},n.findFalconeAPI=function(e,t,a){n.setState({successMessage:"Please wait while we calculate.."}),fetch("https://findfalcone.herokuapp.com/find",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:e,planet_names:t,vehicle_names:a})}).then(function(e){return e.json()}).then(function(e){"error"===e.status||void 0===e||!0!==n.props.location.fromGame?(n.setState({successMessage:"Please re-initialize the game!"}),n.props.history.push("/")):"false"===e.status?n.setState({successMessage:"Sorry! You could not find Falcone!"}):n.setState({successMessage:"Congrats! You found Falcone!",planet:e.planet_name})})},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state;void 0!==e&&(this.planetNames=e.map(function(e){return e.destination}),this.vehicleNames=e.map(function(e){return e.vehicle})),this.getTokenAPI()}},{key:"render",value:function(){var e=this.state.planet;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container h-100 d-flex flex-column"},s.a.createElement("div",{id:"main-success"},s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"text-center p-5"},this.state.successMessage))),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},(null!==e||void 0!==e)&&e.length>0?s.a.createElement("h2",{className:"m-2"},"Planet - ",s.a.createElement("code",null,e)):null)),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},(null!==e||void 0!==e)&&e.length>0?s.a.createElement("h2",{className:"m-2"},"Time taken - ",s.a.createElement("code",null,e)):null)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement(b.b,{to:"/"},s.a.createElement("button",{className:"btn btn-success"},"Go-Back!"))))))}}]),t}(a.Component)),j=n(10);var k=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,null),s.a.createElement(b.a,null,s.a.createElement(j.c,null,s.a.createElement(j.a,{path:"/",exact:!0,component:g}),s.a.createElement(j.a,{path:"/success",component:E}))),s.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.e75611f1.chunk.js.map